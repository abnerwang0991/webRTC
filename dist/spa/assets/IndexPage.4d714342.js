import{c as re,h as ee,e as st,b as ct}from"./dom.fccdc61c.js";import{e as ae,c as y,h as S,i as xe,l as dt,a as ft,g as W,B as vt,u as be,k as Y,C as me,D as K,v as Z,P as mt,E as le,y as ht,F as gt,G as ue,H as pe,I as J,J as ne,K as qe,L as ye,M as Ge,r as R,N as et,w as N,O as tt,Q as at,o as ie,R as Ee,x as Fe,S as bt,T as lt,U as pt,z as G,b as yt,V as Ct,W as St,m as ve,n as X,q as I,X as rt,Y as ot,Z as wt,$ as $e}from"./index.6e195f6e.js";import{g as kt,Q as Oe,a as _t,b as oe}from"./QBtn.04555057.js";import{Q as Te,a as xt,s as He,b as Ce}from"./QScrollObserver.d42861aa.js";var qt=re({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:l}}=W(),i=xe(dt,ae);if(i===ae)return console.error("QPage needs to be a deep child of QLayout"),ae;if(xe(ft,ae)===ae)return console.error("QPage needs to be child of QPageContainer"),ae;const n=y(()=>{const r=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const g=i.isContainer.value===!0?i.containerHeight.value:l.screen.height;return e.styleFn(r,g)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-r+"px":l.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":l.screen.height-r+"px"}}),u=y(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>S("main",{class:u.value,style:n.value},ee(t.default))}}),he=re({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const l=y(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>S(e.tag,{class:l.value},ee(t.default))}});const Pe={dark:{type:Boolean,default:null}};function Ae(e,t){return y(()=>e.dark===null?t.dark.isActive:e.dark)}var nt=re({name:"QCard",props:{...Pe,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:l}}=W(),i=Ae(e,l),a=y(()=>"q-card"+(i.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>S(e.tag,{class:a.value},ee(t.default))}});const Ve=vt("webRTC",{state:()=>({localVideoRef:null,remoteVideoRef:null,localStream:null,remoteStream:null,localPeer:null,remotePeer:null,dataChannel:null,localMessages:[],remoteMessages:[]}),actions:{async getUserMediaStream(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0});this.localVideoRef.srcObject=e,this.localStream=e}catch(e){console.log("\u{1F680} ~ file: web-rtc.ts:30 ~ start ~ e",e)}},turnOnCamera(){var e;this.localVideoRef.srcObject=this.localStream,(e=this.localStream)==null||e.getTracks().forEach(t=>{t.enabled=!0})},turnOffCamera(){var e;this.localVideoRef.srcObject=null,(e=this.localStream)==null||e.getTracks().forEach(t=>{t.enabled=!1})},async onIceCandidate(e,t){try{await e.addIceCandidate(t.candidate)}catch(l){console.log("\u{1F680} ~ file: web-rtc.ts:33 ~ onIceCandidate ~ e",l)}},buildPeerConnection(e,t={}){const l=new RTCPeerConnection(t);return l.onicecandidate=i=>this.onIceCandidate(this[e],i),l},async onLocalPeerCreateOfferSuccess(e){try{await this.localPeer.setLocalDescription(e)}catch(t){console.log("\u{1F680} ~ file: web-rtc.ts:57 ~ onLocalPeerCreateOfferSuccess ~ e",t)}try{await this.remotePeer.setRemoteDescription(e)}catch(t){console.log("\u{1F680} ~ file: web-rtc.ts:62 ~ onLocalPeerCreateOfferSuccess ~ e",t)}try{const t=await this.remotePeer.createAnswer();await this.onRemotePeerCreateAnswerSuccess(t)}catch(t){console.log("\u{1F680} ~ file: web-rtc.ts:73 ~ onLocalPeerCreateOfferSuccess ~ e",t)}},async onRemotePeerCreateAnswerSuccess(e){var t,l;try{await((t=this.remotePeer)==null?void 0:t.setLocalDescription(e))}catch(i){console.log("\u{1F680} ~ file: web-rtc.ts:57 ~ onRemotePeerCreateAnswerSuccess ~ e",i)}try{await((l=this.localPeer)==null?void 0:l.setRemoteDescription(e))}catch(i){console.log("\u{1F680} ~ file: web-rtc.ts:64 ~ onRemotePeerCreateAnswerSuccess ~ e",i)}},gotRemoteStream(e){this.remoteStream!==e.streams[0]&&(this.remoteStream=e.streams[0],this.remoteVideoRef.srcObject=e.streams[0])},async connect(){var t;const e={};this.localPeer=this.buildPeerConnection("remotePeer",e),(t=this.localStream)==null||t.getTracks().forEach(l=>{var i;return(i=this.localPeer)==null?void 0:i.addTrack(l,this.localStream)}),this.dataChannel=this.localPeer.createDataChannel("my local channel",{negotiated:!1}),this.remotePeer=this.buildPeerConnection("localPeer",e),this.remotePeer.ontrack=this.gotRemoteStream,this.remotePeer.ondatachannel=this.receiveChannelCallback;try{const l=await this.localPeer.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await this.onLocalPeerCreateOfferSuccess(l)}catch(l){console.log("\u{1F680} ~ file: web-rtc.ts:67 ~ call ~ e",l)}},receiveChannelCallback(e){const t=e.channel;t.onmessage=l=>{this.remoteMessages.push(l.data)}},send(e){this.localMessages.push(e),this.dataChannel.send(e)},hangUp(){var e,t;(e=this.localPeer)==null||e.close(),(t=this.remotePeer)==null||t.close(),this.localPeer=null,this.remotePeer=null}}});const Mt={class:"row justify-center"},zt=be({__name:"Video",props:{refName:null},setup(e){const t=Ve();return(l,i)=>(Y(),me("div",Mt,[K("video",{ref:a=>Z(t)[e.refName]=a,autoplay:"",height:"300px"},null,512)]))}});var Rt=re({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const l=y(()=>e.sent===!0?"sent":"received"),i=y(()=>`q-message-text-content q-message-text-content--${l.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),a=y(()=>`q-message-text q-message-text--${l.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),n=y(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),u=y(()=>e.size!==void 0?`col-${e.size}`:""),r=y(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function g(k){return t.stamp!==void 0?[k,S("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[k,S("div",{class:"q-message-stamp",[r.value.stamp]:e.stamp})]:[k]}function C(k,w){const q=w===!0?k.length>1?_=>_:_=>S("div",[_]):_=>S("div",{[r.value.msg]:_});return k.map((_,M)=>S("div",{key:M,class:a.value},[S("div",{class:i.value},g(q(_)))]))}return()=>{const k=[];t.avatar!==void 0?k.push(t.avatar()):e.avatar!==void 0&&k.push(S("img",{class:`q-message-avatar q-message-avatar--${l.value}`,src:e.avatar,"aria-hidden":"true"}));const w=[];t.name!==void 0?w.push(S("div",{class:`q-message-name q-message-name--${l.value}`},t.name())):e.name!==void 0&&w.push(S("div",{class:`q-message-name q-message-name--${l.value}`,[r.value.name]:e.name})),t.default!==void 0?w.push(C(kt(t.default()),!0)):e.text!==void 0&&w.push(C(e.text)),k.push(S("div",{class:u.value},w));const q=[];return t.label!==void 0?q.push(S("div",{class:"q-message-label"},t.label())):e.label!==void 0&&q.push(S("div",{class:"q-message-label",[r.value.label]:e.label})),q.push(S("div",{class:n.value},k)),S("div",{class:`q-message q-message-${l.value}`},q)}}});const Be={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ft=Object.keys(Be);Be.all=!0;function De(e){const t={};for(const l of Ft)e[l]===!0&&(t[l]=!0);return Object.keys(t).length===0?Be:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}function je(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&e.target.nodeName.toUpperCase()!=="INPUT"&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Pt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),mt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Se(e,t,l){const i=qe(e);let a,n=i.left-t.event.x,u=i.top-t.event.y,r=Math.abs(n),g=Math.abs(u);const C=t.direction;C.horizontal===!0&&C.vertical!==!0?a=n<0?"left":"right":C.horizontal!==!0&&C.vertical===!0?a=u<0?"up":"down":C.up===!0&&u<0?(a="up",r>g&&(C.left===!0&&n<0?a="left":C.right===!0&&n>0&&(a="right"))):C.down===!0&&u>0?(a="down",r>g&&(C.left===!0&&n<0?a="left":C.right===!0&&n>0&&(a="right"))):C.left===!0&&n<0?(a="left",r<g&&(C.up===!0&&u<0?a="up":C.down===!0&&u>0&&(a="down"))):C.right===!0&&n>0&&(a="right",r<g&&(C.up===!0&&u<0?a="up":C.down===!0&&u>0&&(a="down")));let k=!1;if(a===void 0&&l===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};a=t.event.lastDir,k=!0,a==="left"||a==="right"?(i.left-=n,r=0,n=0):(i.top-=u,g=0,u=0)}return{synthetic:k,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:i,direction:a,isFirst:t.event.isFirst,isFinal:l===!0,duration:Date.now()-t.event.time,distance:{x:r,y:g},offset:{x:n,y:u},delta:{x:i.left-t.event.lastX,y:i.top-t.event.lastY}}}}let At=0;var Le=st({name:"touch-pan",beforeMount(e,{value:t,modifiers:l}){if(l.mouse!==!0&&le.has.touch!==!0)return;function i(n,u){l.mouse===!0&&u===!0?Ge(n):(l.stop===!0&&ne(n),l.prevent===!0&&J(n))}const a={uid:"qvtp_"+At++,handler:t,modifiers:l,direction:De(l),noop:ht,mouseStart(n){je(n,a)&&gt(n)&&(ue(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(n,!0))},touchStart(n){if(je(n,a)){const u=n.target;ue(a,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),a.start(n)}},start(n,u){if(le.is.firefox===!0&&pe(e,!0),a.lastEvt=n,u===!0||l.stop===!0){if(a.direction.all!==!0&&(u!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const C=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&J(C),n.cancelBubble===!0&&ne(C),Object.assign(C,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[a.uid]:n.qClonedBy.concat(a.uid)}),a.initialEvent={target:n.target,event:C}}ne(n)}const{left:r,top:g}=qe(n);a.event={x:r,y:g,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:g}},move(n){if(a.event===void 0)return;const u=qe(n),r=u.left-a.event.x,g=u.top-a.event.y;if(r===0&&g===0)return;a.lastEvt=n;const C=a.event.mouse===!0,k=()=>{i(n,C);let _;l.preserveCursor!==!0&&l.preservecursor!==!0&&(_=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),C===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Pt(),a.styleCleanup=M=>{if(a.styleCleanup=void 0,_!==void 0&&(document.documentElement.style.cursor=_),document.body.classList.remove("non-selectable"),C===!0){const Q=()=>{document.body.classList.remove("no-pointer-events--children")};M!==void 0?setTimeout(()=>{Q(),M()},50):Q()}else M!==void 0&&M()}};if(a.event.detected===!0){a.event.isFirst!==!0&&i(n,a.event.mouse);const{payload:_,synthetic:M}=Se(n,a,!1);_!==void 0&&(a.handler(_)===!1?a.end(n):(a.styleCleanup===void 0&&a.event.isFirst===!0&&k(),a.event.lastX=_.position.left,a.event.lastY=_.position.top,a.event.lastDir=M===!0?void 0:_.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||C===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){k(),a.event.detected=!0,a.move(n);return}const w=Math.abs(r),q=Math.abs(g);w!==q&&(a.direction.horizontal===!0&&w>q||a.direction.vertical===!0&&w<q||a.direction.up===!0&&w<q&&g<0||a.direction.down===!0&&w<q&&g>0||a.direction.left===!0&&w>q&&r<0||a.direction.right===!0&&w>q&&r>0?(a.event.detected=!0,a.move(n)):a.end(n,!0))},end(n,u){if(a.event!==void 0){if(ye(a,"temp"),le.is.firefox===!0&&pe(e,!1),u===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(Se(n===void 0?a.lastEvt:n,a).payload);const{payload:r}=Se(n===void 0?a.lastEvt:n,a,!0),g=()=>{a.handler(r)};a.styleCleanup!==void 0?a.styleCleanup(g):g()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(e.__qtouchpan=a,l.mouse===!0){const n=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";ue(a,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}le.has.touch===!0&&ue(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const l=e.__qtouchpan;l!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&l.end(),l.handler=t.value),l.direction=De(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),ye(t,"main"),ye(t,"temp"),le.is.firefox===!0&&pe(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});function se(e,t,l){return l<=t?t:Math.min(l,Math.max(t,e))}const Ne=["vertical","horizontal"],we={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ie={prevent:!0,mouse:!0,mouseAllDir:!0},Qe=e=>e>=250?50:Math.ceil(e/5);var Vt=re({name:"QScrollArea",props:{...Pe,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:t,emit:l}){const i=R(!1),a=R(!1),n=R(!1),u={vertical:R(0),horizontal:R(0)},r={vertical:{ref:R(null),position:R(0),size:R(0)},horizontal:{ref:R(null),position:R(0),size:R(0)}},{proxy:g}=W(),C=Ae(e,g.$q);let k,w;const q=R(null),_=y(()=>"q-scrollarea"+(C.value===!0?" q-scrollarea--dark":""));r.vertical.percentage=y(()=>{const c=r.vertical.size.value-u.vertical.value;if(c<=0)return 0;const o=se(r.vertical.position.value/c,0,1);return Math.round(o*1e4)/1e4}),r.vertical.thumbHidden=y(()=>(e.visible===null?n.value:e.visible)!==!0&&i.value===!1&&a.value===!1||r.vertical.size.value<=u.vertical.value+1),r.vertical.thumbStart=y(()=>r.vertical.percentage.value*(u.vertical.value-r.vertical.thumbSize.value)),r.vertical.thumbSize=y(()=>Math.round(se(u.vertical.value*u.vertical.value/r.vertical.size.value,Qe(u.vertical.value),u.vertical.value))),r.vertical.style=y(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${r.vertical.thumbStart.value}px`,height:`${r.vertical.thumbSize.value}px`})),r.vertical.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.vertical.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(r.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),r.horizontal.percentage=y(()=>{const c=r.horizontal.size.value-u.horizontal.value;if(c<=0)return 0;const o=se(Math.abs(r.horizontal.position.value)/c,0,1);return Math.round(o*1e4)/1e4}),r.horizontal.thumbHidden=y(()=>(e.visible===null?n.value:e.visible)!==!0&&i.value===!1&&a.value===!1||r.horizontal.size.value<=u.horizontal.value+1),r.horizontal.thumbStart=y(()=>r.horizontal.percentage.value*(u.horizontal.value-r.horizontal.thumbSize.value)),r.horizontal.thumbSize=y(()=>Math.round(se(u.horizontal.value*u.horizontal.value/r.horizontal.size.value,Qe(u.horizontal.value),u.horizontal.value))),r.horizontal.style=y(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[g.$q.lang.rtl===!0?"right":"left"]:`${r.horizontal.thumbStart.value}px`,width:`${r.horizontal.thumbSize.value}px`})),r.horizontal.thumbClass=y(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),r.horizontal.barClass=y(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(r.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const M=y(()=>r.vertical.thumbHidden.value===!0&&r.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),Q=[[Le,c=>{d(c,"vertical")},void 0,{vertical:!0,...Ie}]],P=[[Le,c=>{d(c,"horizontal")},void 0,{horizontal:!0,...Ie}]];function D(){const c={};return Ne.forEach(o=>{const v=r[o];c[o+"Position"]=v.position.value,c[o+"Percentage"]=v.percentage.value,c[o+"Size"]=v.size.value,c[o+"ContainerSize"]=u[o].value}),c}const L=et(()=>{const c=D();c.ref=g,l("scroll",c)},0);function U(c,o,v){if(Ne.includes(c)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(c==="vertical"?He:Ce)(q.value,o,v)}function O({height:c,width:o}){let v=!1;u.vertical.value!==c&&(u.vertical.value=c,v=!0),u.horizontal.value!==o&&(u.horizontal.value=o,v=!0),v===!0&&h()}function T({position:c}){let o=!1;r.vertical.position.value!==c.top&&(r.vertical.position.value=c.top,o=!0),r.horizontal.position.value!==c.left&&(r.horizontal.position.value=c.left,o=!0),o===!0&&h()}function s({height:c,width:o}){r.horizontal.size.value!==o&&(r.horizontal.size.value=o,h()),r.vertical.size.value!==c&&(r.vertical.size.value=c,h())}function d(c,o){const v=r[o];if(c.isFirst===!0){if(v.thumbHidden.value===!0)return;w=v.position.value,a.value=!0}else if(a.value!==!0)return;c.isFinal===!0&&(a.value=!1);const A=we[o],H=u[o].value,f=(v.size.value-H)/(H-v.thumbSize.value),V=c.distance[A.dist],B=w+(c.direction===A.dir?1:-1)*V*f;z(B,o)}function m(c,o){const v=r[o];if(v.thumbHidden.value!==!0){const A=c[we[o].offset];if(A<v.thumbStart.value||A>v.thumbStart.value+v.thumbSize.value){const H=A-v.thumbSize.value/2;z(H/u[o].value*v.size.value,o)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(c.type,c))}}function b(c){m(c,"vertical")}function p(c){m(c,"horizontal")}function h(){i.value===!0?clearTimeout(k):i.value=!0,k=setTimeout(()=>{i.value=!1},e.delay),e.onScroll!==void 0&&L()}function z(c,o){q.value[we[o].scroll]=c}function x(){n.value=!0}function F(){n.value=!1}let E=null;return N(()=>g.$q.lang.rtl,c=>{q.value!==null&&Ce(q.value,Math.abs(r.horizontal.position.value)*(c===!0?-1:1))}),tt(()=>{E={top:r.vertical.position.value,left:r.horizontal.position.value}}),at(()=>{if(E===null)return;const c=q.value;c!==null&&(Ce(c,E.left),He(c,E.top))}),ie(L.cancel),Object.assign(g,{getScrollTarget:()=>q.value,getScroll:D,getScrollPosition:()=>({top:r.vertical.position.value,left:r.horizontal.position.value}),getScrollPercentage:()=>({top:r.vertical.percentage.value,left:r.horizontal.percentage.value}),setScrollPosition:U,setScrollPercentage(c,o,v){U(c,o*(r[c].size.value-u[c].value)*(c==="horizontal"&&g.$q.lang.rtl===!0?-1:1),v)}}),()=>S("div",{class:_.value,onMouseenter:x,onMouseleave:F},[S("div",{ref:q,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[S("div",{class:"q-scrollarea__content absolute",style:M.value},ct(t.default,[S(Te,{debounce:0,onResize:s})])),S(xt,{axis:"both",onScroll:T})]),S(Te,{debounce:0,onResize:O}),S("div",{class:r.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:b}),S("div",{class:r.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:p}),Ee(S("div",{ref:r.vertical.ref,class:r.vertical.thumbClass.value,style:r.vertical.style.value,"aria-hidden":"true"}),Q),Ee(S("div",{ref:r.horizontal.ref,class:r.horizontal.thumbClass.value,style:r.horizontal.style.value,"aria-hidden":"true"}),P)])}});function Bt({validate:e,resetValidation:t,requiresQForm:l}){const i=xe(bt,!1);if(i!==!1){const{props:a,proxy:n}=W();Object.assign(n,{validate:e,resetValidation:t}),N(()=>a.disable,u=>{u===!0?(typeof t=="function"&&t(),i.unbindComponent(n)):i.bindComponent(n)}),Fe(()=>{a.disable!==!0&&i.bindComponent(n)}),ie(()=>{a.disable!==!0&&i.unbindComponent(n)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ue=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ke=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ze=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ce=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,de=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ke={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ue.test(e),hexaColor:e=>Ke.test(e),hexOrHexaColor:e=>Ze.test(e),rgbColor:e=>ce.test(e),rgbaColor:e=>de.test(e),rgbOrRgbaColor:e=>ce.test(e)||de.test(e),hexOrRgbColor:e=>Ue.test(e)||ce.test(e),hexaOrRgbaColor:e=>Ke.test(e)||de.test(e),anyColor:e=>Ze.test(e)||ce.test(e)||de.test(e)},Et=[!0,!1,"ondemand"],$t={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Et.includes(e)}};function Ot(e,t){const{props:l,proxy:i}=W(),a=R(!1),n=R(null),u=R(null);Bt({validate:M,resetValidation:_});let r=0,g;const C=y(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length>0),k=y(()=>l.disable!==!0&&C.value===!0),w=y(()=>l.error===!0||a.value===!0),q=y(()=>typeof l.errorMessage=="string"&&l.errorMessage.length>0?l.errorMessage:n.value);N(()=>l.modelValue,()=>{Q()}),N(()=>l.reactiveRules,D=>{D===!0?g===void 0&&(g=N(()=>l.rules,()=>{Q(!0)})):g!==void 0&&(g(),g=void 0)},{immediate:!0}),N(e,D=>{D===!0?u.value===null&&(u.value=!1):u.value===!1&&(u.value=!0,k.value===!0&&l.lazyRules!=="ondemand"&&t.value===!1&&P())});function _(){r++,t.value=!1,u.value=null,a.value=!1,n.value=null,P.cancel()}function M(D=l.modelValue){if(k.value!==!0)return!0;const L=++r,U=t.value!==!0?()=>{u.value=!0}:()=>{},O=(s,d)=>{s===!0&&U(),a.value=s,n.value=d||null,t.value=!1},T=[];for(let s=0;s<l.rules.length;s++){const d=l.rules[s];let m;if(typeof d=="function"?m=d(D,ke):typeof d=="string"&&ke[d]!==void 0&&(m=ke[d](D)),m===!1||typeof m=="string")return O(!0,m),!1;m!==!0&&m!==void 0&&T.push(m)}return T.length===0?(O(!1),!0):(t.value=!0,Promise.all(T).then(s=>{if(s===void 0||Array.isArray(s)===!1||s.length===0)return L===r&&O(!1),!0;const d=s.find(m=>m===!1||typeof m=="string");return L===r&&O(d!==void 0,d),d===void 0},s=>(L===r&&(console.error(s),O(!0)),!1)))}function Q(D){k.value===!0&&l.lazyRules!=="ondemand"&&(u.value===!0||l.lazyRules!==!0&&D!==!0)&&P()}const P=et(M,0);return ie(()=>{g!==void 0&&g(),P.cancel()}),Object.assign(i,{resetValidation:_,validate:M}),lt(i,"hasError",()=>w.value),{isDirtyModel:u,hasRules:C,hasError:w,errorMessage:q,validate:M,resetValidation:_}}const Xe=/^on[A-Z]/;function Tt(e,t){const l={listeners:R({}),attributes:R({})};function i(){const a={},n={};for(const u in e)u!=="class"&&u!=="style"&&Xe.test(u)===!1&&(a[u]=e[u]);for(const u in t.props)Xe.test(u)===!0&&(n[u]=t.props[u]);l.attributes.value=a,l.listeners.value=n}return pt(i),i(),l}let _e,fe=0;const j=new Array(256);for(let e=0;e<256;e++)j[e]=(e+256).toString(16).substring(1);const Ht=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let i=t;i>0;i--)l.push(Math.floor(Math.random()*256));return l}})(),Ye=4096;function Dt(){(_e===void 0||fe+16>Ye)&&(fe=0,_e=Ht(Ye));const e=Array.prototype.slice.call(_e,fe,fe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,j[e[0]]+j[e[1]]+j[e[2]]+j[e[3]]+"-"+j[e[4]]+j[e[5]]+"-"+j[e[6]]+j[e[7]]+"-"+j[e[8]]+j[e[9]]+"-"+j[e[10]]+j[e[11]]+j[e[12]]+j[e[13]]+j[e[14]]+j[e[15]]}let Me=[],jt=[];function it(e){jt.length===0?e():Me.push(e)}function Lt(e){Me=Me.filter(t=>t!==e)}function ze(e){return e===void 0?`f_${Dt()}`:e}function Re(e){return e!=null&&(""+e).length>0}const Nt={...Pe,...$t,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},It=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Qt(){const{props:e,attrs:t,proxy:l,vnode:i}=W();return{isDark:Ae(e,l.$q),editable:y(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:R(!1),focused:R(!1),hasPopupOpen:!1,splitAttrs:Tt(t,i),targetUid:R(ze(e.for)),rootRef:R(null),targetRef:R(null),controlRef:R(null)}}function Ut(e){const{props:t,emit:l,slots:i,attrs:a,proxy:n}=W(),{$q:u}=n;let r;e.hasValue===void 0&&(e.hasValue=y(()=>Re(t.modelValue))),e.emitValue===void 0&&(e.emitValue=o=>{l("update:modelValue",o)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:b,onFocusout:p}),Object.assign(e,{clearValue:h,onControlFocusin:b,onControlFocusout:p,focus:d}),e.computedCounter===void 0&&(e.computedCounter=y(()=>{if(t.counter!==!1){const o=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,v=t.maxlength!==void 0?t.maxlength:t.maxValues;return o+(v!==void 0?" / "+v:"")}}));const{isDirtyModel:g,hasRules:C,hasError:k,errorMessage:w,resetValidation:q}=Ot(e.focused,e.innerLoading),_=e.floatingLabel!==void 0?y(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):y(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),M=y(()=>t.bottomSlots===!0||t.hint!==void 0||C.value===!0||t.counter===!0||t.error!==null),Q=y(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),P=y(()=>`q-field row no-wrap items-start q-field--${Q.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(_.value===!0?" q-field--float":"")+(L.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(k.value===!0?" q-field--error":"")+(k.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&M.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),D=y(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(k.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),L=y(()=>t.labelSlot===!0||t.label!==void 0),U=y(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&k.value!==!0?` text-${t.labelColor}`:"")),O=y(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:_.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=y(()=>{const o={for:e.targetUid.value};return t.disable===!0?o["aria-disabled"]="true":t.readonly===!0&&(o["aria-readonly"]="true"),o});N(()=>t.for,o=>{e.targetUid.value=ze(o)});function s(){const o=document.activeElement;let v=e.targetRef!==void 0&&e.targetRef.value;v&&(o===null||o.id!==e.targetUid.value)&&(v.hasAttribute("tabindex")===!0||(v=v.querySelector("[tabindex]")),v&&v!==o&&v.focus({preventScroll:!0}))}function d(){it(s)}function m(){Lt(s);const o=document.activeElement;o!==null&&e.rootRef.value.contains(o)&&o.blur()}function b(o){clearTimeout(r),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",o))}function p(o,v){clearTimeout(r),r=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,l("blur",o)),v!==void 0&&v())})}function h(o){Ge(o),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",t.modelValue),G(()=>{q(),u.platform.is.mobile!==!0&&(g.value=!1)})}function z(){const o=[];return i.prepend!==void 0&&o.push(S("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:J},i.prepend())),o.push(S("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},x())),k.value===!0&&t.noErrorIcon===!1&&o.push(E("error",[S(Oe,{name:u.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?o.push(E("inner-loading-append",i.loading!==void 0?i.loading():[S(_t,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&o.push(E("inner-clearable-append",[S(Oe,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||u.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:h})])),i.append!==void 0&&o.push(S("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:J},i.append())),e.getInnerAppend!==void 0&&o.push(E("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&o.push(e.getControlChild()),o}function x(){const o=[];return t.prefix!==void 0&&t.prefix!==null&&o.push(S("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&o.push(e.getShadowControl()),e.getControl!==void 0?o.push(e.getControl()):i.rawControl!==void 0?o.push(i.rawControl()):i.control!==void 0&&o.push(S("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},i.control(O.value))),L.value===!0&&o.push(S("div",{class:U.value},ee(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&o.push(S("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),o.concat(ee(i.default))}function F(){let o,v;k.value===!0?w.value!==null?(o=[S("div",{role:"alert"},w.value)],v=`q--slot-error-${w.value}`):(o=ee(i.error),v="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(o=[S("div",t.hint)],v=`q--slot-hint-${t.hint}`):(o=ee(i.hint),v="q--slot-hint"));const A=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&A===!1&&o===void 0)return;const H=S("div",{key:v,class:"q-field__messages col"},o);return S("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:J},[t.hideBottomSpace===!0?H:S(Ct,{name:"q-transition--field-message"},()=>H),A===!0?S("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function E(o,v){return v===null?null:S("div",{key:o,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},v)}let c=!1;return tt(()=>{c=!0}),at(()=>{c===!0&&t.autofocus===!0&&n.focus()}),Fe(()=>{yt.value===!0&&t.for===void 0&&(e.targetUid.value=ze()),t.autofocus===!0&&n.focus()}),ie(()=>{clearTimeout(r)}),Object.assign(n,{focus:d,blur:m}),function(){const v=e.getControl===void 0&&i.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...T.value}:T.value;return S("label",{ref:e.rootRef,class:[P.value,a.class],style:a.style,...v},[i.before!==void 0?S("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:J},i.before()):null,S("div",{class:"q-field__inner relative-position col self-stretch"},[S("div",{ref:e.controlRef,class:D.value,tabindex:-1,...e.controlEvents},z()),M.value===!0?F():null]),i.after!==void 0?S("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:J},i.after()):null])}}const We={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ge={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ut=Object.keys(ge);ut.forEach(e=>{ge[e].regex=new RegExp(ge[e].pattern)});const Kt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ut.join("")+"])|(.)","g"),Je=/[.*+?^${}()|[\]\\]/g,$=String.fromCharCode(1),Zt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Xt(e,t,l,i){let a,n,u,r;const g=R(null),C=R(w());function k(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,_),N(()=>e.mask,s=>{if(s!==void 0)M(C.value,!0);else{const d=O(C.value);_(),e.modelValue!==d&&t("update:modelValue",d)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{g.value===!0&&M(C.value,!0)}),N(()=>e.unmaskedValue,()=>{g.value===!0&&M(C.value)});function w(){if(_(),g.value===!0){const s=L(O(e.modelValue));return e.fillMask!==!1?T(s):s}return e.modelValue}function q(s){if(s<a.length)return a.slice(-s);let d="",m=a;const b=m.indexOf($);if(b>-1){for(let p=s-m.length;p>0;p--)d+=$;m=m.slice(0,b)+d+m.slice(b)}return m}function _(){if(g.value=e.mask!==void 0&&e.mask.length>0&&k(),g.value===!1){r=void 0,a="",n="";return}const s=We[e.mask]===void 0?e.mask:We[e.mask],d=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",m=d.replace(Je,"\\$&"),b=[],p=[],h=[];let z=e.reverseFillMask===!0,x="",F="";s.replace(Kt,(v,A,H,f,V)=>{if(f!==void 0){const B=ge[f];h.push(B),F=B.negate,z===!0&&(p.push("(?:"+F+"+)?("+B.pattern+"+)?(?:"+F+"+)?("+B.pattern+"+)?"),z=!1),p.push("(?:"+F+"+)?("+B.pattern+")?")}else if(H!==void 0)x="\\"+(H==="\\"?"":H),h.push(H),b.push("([^"+x+"]+)?"+x+"?");else{const B=A!==void 0?A:V;x=B==="\\"?"\\\\\\\\":B.replace(Je,"\\\\$&"),h.push(B),b.push("([^"+x+"]+)?"+x+"?")}});const E=new RegExp("^"+b.join("")+"("+(x===""?".":"[^"+x+"]")+"+)?"+(x===""?"":"["+x+"]*")+"$"),c=p.length-1,o=p.map((v,A)=>A===0&&e.reverseFillMask===!0?new RegExp("^"+m+"*"+v):A===c?new RegExp("^"+v+"("+(F===""?".":F)+"+)?"+(e.reverseFillMask===!0?"$":m+"*")):new RegExp("^"+v));u=h,r=v=>{const A=E.exec(e.reverseFillMask===!0?v:v.slice(0,h.length));A!==null&&(v=A.slice(1).join(""));const H=[],f=o.length;for(let V=0,B=v;V<f;V++){const te=o[V].exec(B);if(te===null)break;B=B.slice(te.shift().length),H.push(...te)}return H.length>0?H.join(""):v},a=h.map(v=>typeof v=="string"?v:$).join(""),n=a.split($).join(d)}function M(s,d,m){const b=i.value,p=b.selectionEnd,h=b.value.length-p,z=O(s);d===!0&&_();const x=L(z),F=e.fillMask!==!1?T(x):x,E=C.value!==F;b.value!==F&&(b.value=F),E===!0&&(C.value=F),document.activeElement===b&&G(()=>{if(F===n){const o=e.reverseFillMask===!0?n.length:0;b.setSelectionRange(o,o,"forward");return}if(m==="insertFromPaste"&&e.reverseFillMask!==!0){const o=p-1;P.right(b,o,o);return}if(["deleteContentBackward","deleteContentForward"].indexOf(m)>-1){const o=e.reverseFillMask===!0?p===0?F.length>x.length?1:0:Math.max(0,F.length-(F===n?0:Math.min(x.length,h)+1))+1:p;b.setSelectionRange(o,o,"forward");return}if(e.reverseFillMask===!0)if(E===!0){const o=Math.max(0,F.length-(F===n?0:Math.min(x.length,h+1)));o===1&&p===1?b.setSelectionRange(o,o,"forward"):P.rightReverse(b,o,o)}else{const o=F.length-h;b.setSelectionRange(o,o,"backward")}else if(E===!0){const o=Math.max(0,a.indexOf($),Math.min(x.length,p)-1);P.right(b,o,o)}else{const o=p-1;P.right(b,o,o)}});const c=e.unmaskedValue===!0?O(F):F;String(e.modelValue)!==c&&l(c,!0)}function Q(s,d,m){const b=L(O(s.value));d=Math.max(0,a.indexOf($),Math.min(b.length,d)),s.setSelectionRange(d,m,"forward")}const P={left(s,d,m,b){const p=a.slice(d-1).indexOf($)===-1;let h=Math.max(0,d-1);for(;h>=0;h--)if(a[h]===$){d=h,p===!0&&d++;break}if(h<0&&a[d]!==void 0&&a[d]!==$)return P.right(s,0,0);d>=0&&s.setSelectionRange(d,b===!0?m:d,"backward")},right(s,d,m,b){const p=s.value.length;let h=Math.min(p,m+1);for(;h<=p;h++)if(a[h]===$){m=h;break}else a[h-1]===$&&(m=h);if(h>p&&a[m-1]!==void 0&&a[m-1]!==$)return P.left(s,p,p);s.setSelectionRange(b?d:m,m,"forward")},leftReverse(s,d,m,b){const p=q(s.value.length);let h=Math.max(0,d-1);for(;h>=0;h--)if(p[h-1]===$){d=h;break}else if(p[h]===$&&(d=h,h===0))break;if(h<0&&p[d]!==void 0&&p[d]!==$)return P.rightReverse(s,0,0);d>=0&&s.setSelectionRange(d,b===!0?m:d,"backward")},rightReverse(s,d,m,b){const p=s.value.length,h=q(p),z=h.slice(0,m+1).indexOf($)===-1;let x=Math.min(p,m+1);for(;x<=p;x++)if(h[x-1]===$){m=x,m>0&&z===!0&&m--;break}if(x>p&&h[m-1]!==void 0&&h[m-1]!==$)return P.leftReverse(s,p,p);s.setSelectionRange(b===!0?d:m,m,"forward")}};function D(s){if(t("keydown",s),St(s)===!0)return;const d=i.value,m=d.selectionStart,b=d.selectionEnd;if(s.keyCode===37||s.keyCode===39){const p=P[(s.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];s.preventDefault(),p(d,m,b,s.shiftKey)}else s.keyCode===8&&e.reverseFillMask!==!0&&m===b?P.left(d,m,b,!0):s.keyCode===46&&e.reverseFillMask===!0&&m===b&&P.rightReverse(d,m,b,!0)}function L(s){if(s==null||s==="")return"";if(e.reverseFillMask===!0)return U(s);const d=u;let m=0,b="";for(let p=0;p<d.length;p++){const h=s[m],z=d[p];if(typeof z=="string")b+=z,h===z&&m++;else if(h!==void 0&&z.regex.test(h))b+=z.transform!==void 0?z.transform(h):h,m++;else return b}return b}function U(s){const d=u,m=a.indexOf($);let b=s.length-1,p="";for(let h=d.length-1;h>=0&&b>-1;h--){const z=d[h];let x=s[b];if(typeof z=="string")p=z+p,x===z&&b--;else if(x!==void 0&&z.regex.test(x))do p=(z.transform!==void 0?z.transform(x):x)+p,b--,x=s[b];while(m===h&&x!==void 0&&z.regex.test(x));else return p}return p}function O(s){return typeof s!="string"||r===void 0?typeof s=="number"?r(""+s):s:r(s)}function T(s){return n.length-s.length<=0?s:e.reverseFillMask===!0&&s.length>0?n.slice(0,-s.length)+s:s+n.slice(s.length)}return{innerValue:C,hasMask:g,moveCursorForPaste:Q,updateMaskValue:M,onMaskedKeydown:D}}const Yt={name:String};function Wt(e){return y(()=>e.name||e.for)}function Jt(e,t){function l(){const i=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(n=>{a.items.add(n)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?y(()=>{if(e.type==="file")return l()}):y(l)}const Gt=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ea=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,ta=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,aa=/[a-z0-9_ -]$/i;function la(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(le.is.firefox===!0?aa.test(l.data)===!1:Gt.test(l.data)===!0||ea.test(l.data)===!0||ta.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}var ra=re({name:"QInput",inheritAttrs:!1,props:{...Nt,...Zt,...Yt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...It,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:i}=W(),{$q:a}=i,n={};let u=NaN,r,g,C,k;const w=R(null),q=Wt(e),{innerValue:_,hasMask:M,moveCursorForPaste:Q,updateMaskValue:P,onMaskedKeydown:D}=Xt(e,t,E,w),L=Jt(e,!0),U=y(()=>Re(_.value)),O=la(x),T=Qt(),s=y(()=>e.type==="textarea"||e.autogrow===!0),d=y(()=>s.value===!0||["text","search","url","tel","password"].includes(e.type)),m=y(()=>{const f={...T.splitAttrs.listeners.value,onInput:x,onPaste:z,onChange:o,onBlur:v,onFocus:ne};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=O,M.value===!0&&(f.onKeydown=D),e.autogrow===!0&&(f.onAnimationend=F),f}),b=y(()=>{const f={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:q.value,...T.splitAttrs.attributes.value,id:T.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return s.value===!1&&(f.type=e.type),e.autogrow===!0&&(f.rows=1),f});N(()=>e.type,()=>{w.value&&(w.value.value=e.modelValue)}),N(()=>e.modelValue,f=>{if(M.value===!0){if(g===!0&&(g=!1,String(f)===u))return;P(f)}else _.value!==f&&(_.value=f,e.type==="number"&&n.hasOwnProperty("value")===!0&&(r===!0?r=!1:delete n.value));e.autogrow===!0&&G(c)}),N(()=>e.autogrow,f=>{f===!0?G(c):w.value!==null&&l.rows>0&&(w.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&G(c)});function p(){it(()=>{const f=document.activeElement;w.value!==null&&w.value!==f&&(f===null||f.id!==T.targetUid.value)&&w.value.focus({preventScroll:!0})})}function h(){w.value!==null&&w.value.select()}function z(f){if(M.value===!0&&e.reverseFillMask!==!0){const V=f.target;Q(V,V.selectionStart,V.selectionEnd)}t("paste",f)}function x(f){if(!f||!f.target)return;if(e.type==="file"){t("update:modelValue",f.target.files);return}const V=f.target.value;if(f.target.qComposing===!0){n.value=V;return}if(M.value===!0)P(V,!1,f.inputType);else if(E(V),d.value===!0&&f.target===document.activeElement){const{selectionStart:B,selectionEnd:te}=f.target;B!==void 0&&te!==void 0&&G(()=>{f.target===document.activeElement&&V.indexOf(f.target.value)===0&&f.target.setSelectionRange(B,te)})}e.autogrow===!0&&c()}function F(f){t("animationend",f),c()}function E(f,V){k=()=>{e.type!=="number"&&n.hasOwnProperty("value")===!0&&delete n.value,e.modelValue!==f&&u!==f&&(u=f,V===!0&&(g=!0),t("update:modelValue",f),G(()=>{u===f&&(u=NaN)})),k=void 0},e.type==="number"&&(r=!0,n.value=f),e.debounce!==void 0?(clearTimeout(C),n.value=f,C=setTimeout(k,e.debounce)):k()}function c(){requestAnimationFrame(()=>{const f=w.value;if(f!==null){const V=f.parentNode.style,{overflow:B}=f.style;a.platform.is.firefox!==!0&&(f.style.overflow="hidden"),V.marginBottom=f.scrollHeight-1+"px",f.style.height="1px",f.style.height=f.scrollHeight+"px",f.style.overflow=B,V.marginBottom=""}})}function o(f){O(f),clearTimeout(C),k!==void 0&&k(),t("change",f.target.value)}function v(f){f!==void 0&&ne(f),clearTimeout(C),k!==void 0&&k(),r=!1,g=!1,delete n.value,e.type!=="file"&&setTimeout(()=>{w.value!==null&&(w.value.value=_.value!==void 0?_.value:"")})}function A(){return n.hasOwnProperty("value")===!0?n.value:_.value!==void 0?_.value:""}ie(()=>{v()}),Fe(()=>{e.autogrow===!0&&c()}),Object.assign(T,{innerValue:_,fieldClass:y(()=>`q-${s.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:y(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:w,emitValue:E,hasValue:U,floatingLabel:y(()=>U.value===!0||Re(e.displayValue)),getControl:()=>S(s.value===!0?"textarea":"input",{ref:w,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...b.value,...m.value,...e.type!=="file"?{value:A()}:L.value}),getShadowControl:()=>S("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(s.value===!0?"":" text-no-wrap")},[S("span",{class:"invisible"},A()),S("span",e.shadowText)])});const H=Ut(T);return Object.assign(i,{focus:p,select:h,getNativeElement:()=>w.value}),lt(i,"nativeEl",()=>w.value),H}});const oa=be({__name:"Chat",props:{pcName:null},setup(e){const t=e,l=R(""),i=Ve(),a=()=>{i.send(l.value),l.value=""},n={messages:i[`${t.pcName}Messages`],sent:t.pcName==="local"};return(u,r)=>(Y(),ve(nt,{bordered:"",flat:"",class:"column justify-between q-mt-md chat"},{default:X(()=>[I(he,null,{default:X(()=>[I(Vt,{class:"message-area"},{default:X(()=>[(Y(!0),me(rt,null,ot(n.messages,(g,C)=>(Y(),ve(Rt,{key:`${e.pcName}${C}`,name:"local",text:[g],sent:n.sent},null,8,["text","sent"]))),128))]),_:1})]),_:1}),I(he,null,{default:X(()=>[e.pcName==="local"?(Y(),ve(ra,{key:0,modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=g=>l.value=g),outlined:"",dense:""},{after:X(()=>[I(oe,{disable:!l.value||!Z(i).remotePeer,icon:"send",round:"",dense:"",flat:"",onClick:a},null,8,["disable"])]),_:1},8,["modelValue"])):wt("",!0)]),_:1})]),_:1}))}}),na={class:"full-width q-px-lg"},ia={class:"row q-col-gutter-md"},ua={class:"text-subtitle1"},sa={class:"text-caption"},ca={class:"row justify-center q-col-gutter-sm q-mt-md"},da=be({__name:"Index",setup(e){const t=Ve(),l=[{title:"\u672C\u5730\u96FB\u8166",subtitle:"\u986F\u793A\u672C\u5730\u5F71\u50CF\u3001\u8072\u97F3\u3001\u6587\u5B57",refName:"localVideoRef",pcName:"local"},{title:"\u9060\u7AEF\u96FB\u8166",subtitle:"\u986F\u793A\u672C\u5730\u50B3\u9001\u5230\u8A72\u96FB\u8166\u7684\u5F71\u50CF\u3001\u8072\u97F3\u3001\u6587\u5B57",refName:"remoteVideoRef",pcName:"remote"}];let i=!0;const a=()=>{i?t.turnOffCamera():t.turnOnCamera(),i=!i};return(n,u)=>(Y(),me("section",na,[K("div",ia,[(Y(),me(rt,null,ot(l,({title:r,subtitle:g,refName:C,pcName:k},w)=>K("div",{key:`video${w}`,flat:"",bordered:"",class:"col-6"},[I(nt,{class:"srceen"},{default:X(()=>[I(he,{class:"q-py-sm"},{default:X(()=>[K("div",ua,$e(r),1),K("div",sa,$e(g),1)]),_:2},1024),I(he,{class:"q-pt-sm"},{default:X(()=>[I(zt,{"ref-name":C},null,8,["ref-name"]),I(oa,{"pc-name":k},null,8,["pc-name"])]),_:2},1024)]),_:2},1024)])),64))]),K("div",ca,[K("div",null,[I(oe,{color:"primary",icon:"lock_open","no-caps":"",outline:"",round:"",onClick:Z(t).getUserMediaStream},null,8,["onClick"])]),K("div",null,[I(oe,{icon:Z(i)?"videocam_off":"videocam",disable:!Z(t).localStream,color:"primary","no-caps":"",outline:"",round:"",onClick:a},null,8,["icon","disable"])]),K("div",null,[I(oe,{disable:!Z(t).localStream,color:"primary",icon:"video_call","no-caps":"",outline:"",round:"",onClick:Z(t).connect},null,8,["disable","onClick"])]),K("div",null,[I(oe,{disable:!Z(t).remotePeer,color:"primary",icon:"call_end","no-caps":"",outline:"",round:"",onClick:Z(t).hangUp},null,8,["disable","onClick"])])])]))}}),ga=be({__name:"IndexPage",setup(e){return(t,l)=>(Y(),ve(qt,{class:"row justify-center items-center"},{default:X(()=>[I(da)]),_:1}))}});export{ga as default};
